#include "../header/vector.h"
////////////////////////////////////////////////////////////////
//　ベクトル3fからなるオブジェクト用のベクトル
////////////////////////////////////////////////////////////////
class OBJVEC3 : public Vector3f
{
  public:
    OBJVEC3();
    OBJVEC3(float nx, float ny, float nz);

    operator float *();
    operator const float() const;
};

////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////
//　ベクトル2fからなるオブジェクト用のベクトル
////////////////////////////////////////////////////////////////
class OBJVEC2 : public Vector2f
{
  public:
    OBJVEC2();
    OBJVEC2(float nx, float ny);
    operator float *();
    operator const float() const;
};

////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////
//　頂点情報
////////////////////////////////////////////////////////////////
class OBJVERTEX
{
  public:
    OBJVEC2 texcoord;
    OBJVEC3 normal;
    OBJVEC3 position;
    OBJVERTEX() {}
};
////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////
//　サブセット情報
////////////////////////////////////////////////////////////////
class OBJSUBSET
{
  public:
    unsigned int materialIndex;
    unsigned int faceStart;
    unsigned int faceCount;
    OBJSUBSET() {}
};
////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////
//　メッシュ情報
////////////////////////////////////////////////////////////////
class OBJMESH
{
  private:
    OBJVERTEX *m_Vertex;
    OBJSUBSET *m_Subset;
    unsigned int *m_Indices;

    bool LoadMTLFile(const char *filename);
    bool LoadOBJFile(const char *filename);

  public:
    bool LoadFile(const char *filename);
    void Release();
    void Draw();
};
////////////////////////////////////////////////////////////////